document.addEventListener("DOMContentLoaded", () => {
  const main = document.getElementById("conteudo");
  const links = document.querySelectorAll("nav a");
  const btnTema = document.getElementById("btn-tema");
  const ano = document.getElementById("ano");
  ano.textContent = new Date().getFullYear();

  function carregar(hash) {
    links.forEach(l => l.classList.remove("ativo"));
    const ativo = [...links].find(l => l.getAttribute("href") === hash);
    if (ativo) ativo.classList.add("ativo");

    switch (hash) {
      case "#projetos":
        main.innerHTML = `
        <section class="conteudo">
          <h2>Projetos</h2>
          <p>Conheça os projetos da ONG que promovem o verde nas cidades e a conscientização ambiental.</p>
          <ul>
            <li><strong>Plantios Urbanos:</strong> mutirões em praças e parques.</li>
            <li><strong>Oficinas Educativas:</strong> reciclagem e compostagem.</li>
            <li><strong>Voluntariado:</strong> eventos e apoio pedagógico.</li>
          </ul>
        </section>`;
        break;

      case "#cadastro":
        main.innerHTML = `
        <section class="conteudo">
          <h2>Cadastro de Voluntário / Doador</h2>
          <form id="form-cadastro">
            <label>Nome completo *</label>
            <input type="text" required>

            <label>Email *</label>
            <input type="email" required>

            <label>Tipo *</label>
            <select required>
              <option value="">-- selecione --</option>
              <option value="voluntario">Voluntário</option>
              <option value="doador">Doador</option>
            </select>

            <button type="submit">Enviar</button>
            <p id="msg"></p>
          </form>
        </section>`;
        break;

      default:
        main.innerHTML = `
        <section class="conteudo">
          <h2>Bem-vindo à Sementes do Amanhã</h2>
          <p>A Sementes do Amanhã é uma ONG sem fins lucrativos que promove educação ambiental, plantios urbanos e oficinas de conscientização.</p>
          <img src="voluntarios.jpg" alt="Grupo de voluntários sorrindo" class="img-fluid">
        </section>`;
    }
  }

  window.addEventListener("hashchange", () => carregar(location.hash));
  carregar(location.hash || "#inicio");

  // alternar tema acessível
  btnTema.addEventListener("click", () => {
    document.body.classList.toggle("escuro");
    localStorage.setItem("temaEscuro", document.body.classList.contains("escuro"));
  });

  if (localStorage.getItem("temaEscuro") === "true") {
    document.body.classList.add("escuro");
  }
});
